
## План: Исправление прокрутки чата

### Проблема
После интеграции `ResizablePanelGroup` пропала вертикальная прокрутка в области чата. Навигация через панель участников работает, но скроллбар отсутствует.

### Причина
Внутренний контейнер внутри `<ResizablePanel defaultSize={80}>` (строка 641-642) не имеет ограничения высоты:

```tsx
// Текущее (неправильно):
<ResizablePanel defaultSize={80}>
  <div className="flex-1 flex flex-col min-w-0">  // ❌ Нет h-full
    ...
    <ScrollArea className="flex-1 p-4">  // ❌ flex-1 не работает
```

Класс `flex-1` на ScrollArea требует, чтобы родительский контейнер имел определённую высоту. Без `h-full` контейнер растягивается по содержимому, а не ограничивается высотой панели.

---

### Решение

Добавить `h-full` к внутреннему div контейнеру:

```tsx
// Исправлено:
<ResizablePanel defaultSize={80}>
  <div className="h-full flex flex-col min-w-0">  // ✅ Добавлен h-full
    ...
    <ScrollArea className="flex-1 p-4">  // ✅ Теперь flex-1 работает
```

---

### Файл для изменения

| Файл | Изменение |
|------|-----------|
| `src/pages/ExpertPanel.tsx` | Строка 642: заменить `flex-1 flex` на `h-full flex` |

---

### Дополнительно: Исправление warning о ref

В консоли есть предупреждение:
```
Warning: Function components cannot be given refs
```

Это связано с `ChatMessage` компонентом. Однако ref назначается на обёртывающий `<div>`, а не на сам компонент, так что функционально это работает. Предупреждение можно игнорировать или добавить `React.forwardRef` к ChatMessage в будущем.

---

### Ожидаемый результат

1. ✅ Вертикальный скроллбар появится в области чата
2. ✅ Прокрутка мышью/тачпадом будет работать
3. ✅ Навигация через панель участников продолжит работать
4. ✅ Скролл к новым сообщениям сохранится
