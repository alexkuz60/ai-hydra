

# Обновление Гидропедии: добавление недокументированных функций

## Обзор

Обновляем 6 существующих секций Гидропедии, добавляя описания реализованных, но ещё не задокументированных функций. Все тексты оформляются с admonitions (`[!TIP]`, `[!WARNING]` и др.) для визуальной консистентности.

---

## 1. Секция `session-memory` (features.ts)

Добавить информацию о:
- **Обнаружение дубликатов** -- автоматическое выявление дублирующихся фрагментов с возможностью массового удаления (сохраняется самый старый)
- **Фильтры** -- фильтрация по типу + режим "Дубликаты"
- **Двухэтапное подтверждение** -- кнопки "Очистить всё" и "Удалить дубликаты" с подтверждением и кнопкой "Отмена"
- **Семантический поиск** -- поиск через эмбеддинги

---

## 2. Секция `model-ratings` (features.ts)

Переписать/дополнить секцию:
- **Портфолио ИИ-моделей** -- список всех доступных моделей с индикацией провайдеров
- **Индикатор доступности** -- зеленая галочка/точка при наличии API-ключа, приглушение (opacity-50) при отсутствии
- **Мастер-деталь интерфейс** -- ResizablePanel с навигатором и деталями
- **Три раздела** -- Портфолио, Конкурс интеллект-красоты, Рейтинги
- **Графики** -- Bar/Pie для топ-10 с фильтрацией по периодам

---

## 3. Секция `expert-panel` (chat.ts)

Добавить:
- **Интерактивные чеклисты** -- кнопка ListChecks в тулбаре, кликабельные чекбоксы в ответах ИИ, сохранение состояния
- **Персонализация** -- отображение имени пользователя (displayName) вместо "Супервизор" в сообщениях, дереве навигации и тултипах
- **Кэш недоступных моделей** -- автоматическое скрытие моделей при ошибках 404/402 с кнопкой сброса кэша

---

## 4. Секция `behavioral-patterns` (content.ts)

Добавить:
- **Human-in-the-loop** -- система утверждений Супервизором: контрольные точки (checkpoints) в блюпринтах, блок ProposalApprovalBlock для подтверждения/отклонения
- **Словари UX** -- комбо-боксы с локализованными мини-словарями для триггеров, поведений, предпочтений формата вместо свободного ввода

---

## 5. Секция `roles-catalog` (features.ts)

Добавить:
- **Табель о рангах** -- иерархия ролей с табами взаимодействий
- **Автоматическая валидация конфликтов** -- обнаружение противоречий в иерархии

---

## 6. Секция `d-chat-moderator` (chat.ts)

Добавить:
- **Автоматический чейнинг** -- D-Chat поддерживает цепочки анализа через Модератора
- **Перенос ответов** -- ответы из D-Chat переносятся в основной чат с сохранением роли и модели

---

## Технические детали

Все изменения вносятся в файлы:
- `src/content/hydrapedia/features.ts` -- секции session-memory, model-ratings, roles-catalog
- `src/content/hydrapedia/chat.ts` -- секции expert-panel, d-chat-moderator
- `src/content/hydrapedia/content.ts` -- секция behavioral-patterns

Каждая секция обновляется в обеих локализациях (ru + en). Формат: Markdown с admonitions.

